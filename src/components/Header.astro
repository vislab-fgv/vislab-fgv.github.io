
<header class="relative bg-white">
  <div class="container mx-auto px-4 py-3">
    <div class="flex items-center justify-between">
      <!-- Logo + Title -->
      <div class="flex items-center space-x-2">
        <img
          src="/images/logo-left.png"
          alt="V-DS Logo"
          class="w-16 h-16 md:w-20 md:h-20"
        />
        <span class="text-xl md:text-3xl text-gray-950 font-semibold"
          >Visual Data Science Lab</span
        >
      </div>

      <!-- Mobile menu button -->
      <button
        id="menuButton"
        class="md:hidden p-2 rounded-md text-gray-600 hover:text-blue-600 focus:outline-none"
        aria-label="Toggle menu"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6 menu-icon"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6 close-icon hidden"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>

      <!-- Desktop Navigation -->
      <nav class="hidden md:flex items-center space-x-6">
        <a href="/" class="text-gray-600 hover:text-blue-600">Home</a>
        <a href="/about" class="text-gray-600 hover:text-blue-600">About</a>
        <a href="/projects" class="text-gray-600 hover:text-blue-600"
          >Projects</a
        >
        <a href="/papers" class="text-gray-600 hover:text-blue-600"
          >Publications</a
        >
        <a href="/people" class="text-gray-600 hover:text-blue-600">People</a>
        <!-- Desktop Positions Dropdown -->
        <div class="relative group">
          <button
            class="inline-flex items-center text-gray-600 group-hover:text-blue-600 focus:outline-none"
          >
            <span>Positions</span>
            <svg
              class="w-4 h-4 ml-1"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <!-- Modificamos esta parte para crear un área invisible que conecte el botón con el menú -->
          <div class="absolute z-100 left-0 w-40 pt-2 invisible group-hover:visible">
            <div class="bg-white rounded shadow-md">
              <a
                href="/positions/postdoc"
                class="block px-4 py-2 text-gray-700 hover:bg-gray-100 hover:text-blue-600"
                >Postdoc</a
              >
              <a
                href="/positions/programmers"
                class="block px-4 py-2 text-gray-700 hover:bg-gray-100 hover:text-blue-600"
                >Programmers</a
              >
              <a
                href="/positions/students"
                class="block px-4 py-2 text-gray-700 hover:bg-gray-100 hover:text-blue-600"
                >Students</a
              >
            </div>
          </div>
        </div>
      </nav>
    </div>

    <!-- Mobile Navigation -->
    <nav id="mobileMenu" class="hidden md:hidden mt-4 py-2">
      <a href="/" class="block py-2 text-gray-600 hover:text-blue-600">Home</a>
      <a href="/about" class="block py-2 text-gray-600 hover:text-blue-600"
        >About</a
      >
      <a href="/projects" class="block py-2 text-gray-600 hover:text-blue-600"
        >Projects</a
      >
      <a href="/papers" class="block py-2 text-gray-600 hover:text-blue-600"
        >Publications</a
      >
      <a href="/people" class="block py-2 text-gray-600 hover:text-blue-600"
        >People</a
      >

      <!-- Mobile Positions Dropdown -->
      <div class="relative">
        <button
          id="mobilePositionsButton"
          class="w-full py-2 flex items-center justify-between text-gray-600 hover:text-blue-600"
        >
          <span>Positions</span>
          <svg
            class="w-4 h-4 transform transition-transform duration-200"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <div id="mobilePositionsMenu" class="hidden pl-4">
          <a
            href="/positions/postdoc"
            class="block py-2 text-gray-600 hover:text-blue-600">Postdoc</a
          >
          <a
            href="/positions/programmers"
            class="block py-2 text-gray-600 hover:text-blue-600">Programmers</a
          >
          <a
            href="/positions/students"
            class="block py-2 text-gray-600 hover:text-blue-600">Students</a
          >
        </div>
      </div>
    </nav>
  </div>
</header>

<script>
  // Toggle mobile menu
  const menuButton = document.getElementById("menuButton");
  const mobileMenu = document.getElementById("mobileMenu");
  const menuIcon = menuButton?.querySelector(".menu-icon");
  const closeIcon = menuButton?.querySelector(".close-icon");

  menuButton?.addEventListener("click", () => {
    mobileMenu?.classList.toggle("hidden");
    menuIcon?.classList.toggle("hidden");
    closeIcon?.classList.toggle("hidden");
  });

  // Toggle mobile positions dropdown
  const mobilePositionsButton = document.getElementById(
    "mobilePositionsButton"
  );
  const mobilePositionsMenu = document.getElementById("mobilePositionsMenu");
  const mobilePositionsIcon = mobilePositionsButton?.querySelector("svg");

  mobilePositionsButton?.addEventListener("click", () => {
    mobilePositionsMenu?.classList.toggle("hidden");
    if (mobilePositionsIcon) {
      mobilePositionsIcon.style.transform =
        mobilePositionsMenu?.classList.contains("hidden")
          ? "rotate(0deg)"
          : "rotate(180deg)";
    }
  });
</script>

<script>
  // Toggle mobile menu
  const menuButton = document.getElementById("menuButton");
  const mobileMenu = document.getElementById("mobileMenu");
  const menuIcon = menuButton?.querySelector(".menu-icon");
  const closeIcon = menuButton?.querySelector(".close-icon");

  menuButton?.addEventListener("click", () => {
    mobileMenu?.classList.toggle("hidden");
    menuIcon?.classList.toggle("hidden");
    closeIcon?.classList.toggle("hidden");
  });

  // Toggle mobile positions dropdown
  const mobilePositionsButton = document.getElementById(
    "mobilePositionsButton"
  );
  const mobilePositionsMenu = document.getElementById("mobilePositionsMenu");
  const mobilePositionsIcon = mobilePositionsButton?.querySelector("svg");

  mobilePositionsButton?.addEventListener("click", () => {
    mobilePositionsMenu?.classList.toggle("hidden");
    if (mobilePositionsIcon) {
      mobilePositionsIcon.style.transform =
        mobilePositionsMenu?.classList.contains("hidden")
          ? "rotate(0deg)"
          : "rotate(180deg)";
    }
  });
</script>
